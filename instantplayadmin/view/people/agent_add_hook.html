<script>

    var areaSelectedProvince = 0;
    var areaSelectedCity = 0;
    var areaSelectedCounty = 0;


    var city = eval({$cityJs});
    var county = eval({$countyJs});
    var ajaxStreetData = null;
    function area(type,obj){
        if(type == 'province'){
            $("#city").html("<option value=''>请选择</option>");
            $("#county").html("<option value=''>请选择</option>");
            $("#street").html("<option value=''>请选择</option>");

            areaSelectedProvince = $(obj).val();

            var cityList = city[areaSelectedProvince];
            // return alert(cityList[0]);
            var optionHtml = "";
            for(var i=0;i<cityList.length;i++){
                optionHtml += "<option value='"+cityList[i][2]+"'>"+cityList[i][1]+"</option>";
            }
            $("#city").html(optionHtml);
        }else if(type =='city'){
            $("#county").html("<option value=''>请选择</option>");
            $("#street").html("<option value=''>请选择</option>");

            areaSelectedCity = $(obj).val();
            var countyList = county[areaSelectedCity];
            var optionHtml = "";
            for(var i=0;i<countyList.length;i++){
                optionHtml += "<option value='"+countyList[i][1]+"'>"+countyList[i][2]+"</option>";
            }
            $("#county").html(optionHtml);
        }else if(type =='county'){
            $("#street").html("<option value=''>请选择</option>");
            var countyId = $(obj).val();
            ajaxGetAreaStreet(countyId);
            var streetData = ajaxStreetData;
            // alert(streetData[0]['street_code']);
            var optionHtml = "";
            for(var i=0;i<streetData.length;i++){
                optionHtml += "<option value='"+streetData[i]['street_code']+"'>"+streetData[i]['short_name']+"</option>";
            }
            $("#street").html(optionHtml);
        }else{
            return alert(" type error");
        }
    }


    function ajaxGetAreaStreet(countyId){
        $.ajax({
            async: false,
            // contentType: "application/json;charset=UTF-8",
            //请求方式
            type : "POST",
            url : "/people/no/agent/getCountyData/countyId="+countyId,
//            //数据，json字符串
            // data : JSON.stringify(list),
            //请求成功
            success : function(result) {
                if(!result){
                    return alert("ajax getProductCategoryRelation is null");
                }

                ajaxStreetData =eval("("+result+")");
            },
            //请求失败，包含具体的错误信息
            error : function(e){
                alert("ajax failed!");
            }
        });
    }

</script>